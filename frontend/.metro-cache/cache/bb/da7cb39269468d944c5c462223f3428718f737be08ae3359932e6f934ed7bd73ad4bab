{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[2], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const userData = await AsyncStorage.default.getItem('@user');\n        if (userData) {\n          setUser(JSON.parse(userData));\n        }\n      } catch (error) {\n        console.error('Error loading user:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n      const response = await fetch(`${API_URL}/api/auth/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.detail || 'Login failed');\n      }\n      const data = await response.json();\n      setUser(data.user);\n      await AsyncStorage.default.setItem('@user', JSON.stringify(data.user));\n    };\n    const register = async userData => {\n      const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n      const response = await fetch(`${API_URL}/api/auth/register`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(userData)\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.detail || 'Registration failed');\n      }\n      const data = await response.json();\n      setUser(data);\n      await AsyncStorage.default.setItem('@user', JSON.stringify(data));\n    };\n    const logout = async () => {\n      setUser(null);\n      await AsyncStorage.default.removeItem('@user');\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":113,"map":[[13,2,26,0,"Object"],[13,8,26,0],[13,9,26,0,"defineProperty"],[13,23,26,0],[13,24,26,0,"exports"],[13,31,26,0],[14,4,26,0,"enumerable"],[14,14,26,0],[15,4,26,0,"get"],[15,7,26,0],[15,18,26,0,"get"],[15,19,26,0],[16,6,26,0],[16,13,26,0,"useAuth"],[16,20,26,0],[17,4,26,0],[18,2,26,0],[19,2,34,0,"Object"],[19,8,34,0],[19,9,34,0,"defineProperty"],[19,23,34,0],[19,24,34,0,"exports"],[19,31,34,0],[20,4,34,0,"enumerable"],[20,14,34,0],[21,4,34,0,"get"],[21,7,34,0],[21,18,34,0,"get"],[21,19,34,0],[22,6,34,0],[22,13,34,0,"AuthProvider"],[22,25,34,0],[23,4,34,0],[24,2,34,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,2,69],[28,6,2,69,"_reactJsxDevRuntime"],[28,25,2,69],[28,28,2,69,"require"],[28,35,2,69],[28,36,2,69,"_dependencyMap"],[28,50,2,69],[29,2,24,0],[29,8,24,6,"AuthContext"],[29,19,24,17],[29,35,24,20],[29,39,24,20,"createContext"],[29,45,24,33],[29,46,24,33,"createContext"],[29,59,24,33],[29,61,24,63,"undefined"],[29,70,24,72],[29,71,24,73],[30,2,26,7],[30,8,26,13,"useAuth"],[30,15,26,20],[30,18,26,23,"useAuth"],[30,19,26,23],[30,24,26,29],[31,4,27,2],[31,10,27,8,"context"],[31,17,27,15],[31,20,27,18],[31,24,27,18,"useContext"],[31,30,27,28],[31,31,27,28,"useContext"],[31,41,27,28],[31,43,27,29,"AuthContext"],[31,54,27,40],[31,55,27,41],[32,4,28,2],[32,8,28,6],[32,9,28,7,"context"],[32,16,28,14],[32,18,28,16],[33,6,29,4],[33,12,29,10],[33,16,29,14,"Error"],[33,21,29,19],[33,22,29,20],[33,64,29,62],[33,65,29,63],[34,4,30,2],[35,4,31,2],[35,11,31,9,"context"],[35,18,31,16],[36,2,32,0],[36,3,32,1],[37,2,34,7],[37,8,34,13,"AuthProvider"],[37,20,34,66],[37,23,34,69,"AuthProvider"],[37,24,34,70],[38,4,34,72,"children"],[39,2,34,81],[39,3,34,82],[39,8,34,87],[40,4,35,2],[40,10,35,8],[40,11,35,9,"user"],[40,15,35,13],[40,17,35,15,"setUser"],[40,24,35,22],[40,25,35,23],[40,28,35,26],[40,32,35,26,"useState"],[40,38,35,34],[40,39,35,34,"useState"],[40,47,35,34],[40,49,35,48],[40,53,35,52],[40,54,35,53],[41,4,36,2],[41,10,36,8],[41,11,36,9,"loading"],[41,18,36,16],[41,20,36,18,"setLoading"],[41,30,36,28],[41,31,36,29],[41,34,36,32],[41,38,36,32,"useState"],[41,44,36,40],[41,45,36,40,"useState"],[41,53,36,40],[41,55,36,41],[41,59,36,45],[41,60,36,46],[42,4,38,2],[42,8,38,2,"useEffect"],[42,14,38,11],[42,15,38,11,"useEffect"],[42,24,38,11],[42,26,38,12],[42,32,38,18],[43,6,39,4,"loadUser"],[43,14,39,12],[43,15,39,13],[43,16,39,14],[44,4,40,2],[44,5,40,3],[44,7,40,5],[44,9,40,7],[44,10,40,8],[45,4,42,2],[45,10,42,8,"loadUser"],[45,18,42,16],[45,21,42,19],[45,27,42,19,"loadUser"],[45,28,42,19],[45,33,42,31],[46,6,43,4],[46,10,43,8],[47,8,44,6],[47,14,44,12,"userData"],[47,22,44,20],[47,25,44,23],[47,31,44,29,"AsyncStorage"],[47,43,44,41],[47,44,44,41,"default"],[47,51,44,41],[47,52,44,42,"getItem"],[47,59,44,49],[47,60,44,50],[47,67,44,57],[47,68,44,58],[48,8,45,6],[48,12,45,10,"userData"],[48,20,45,18],[48,22,45,20],[49,10,46,8,"setUser"],[49,17,46,15],[49,18,46,16,"JSON"],[49,22,46,20],[49,23,46,21,"parse"],[49,28,46,26],[49,29,46,27,"userData"],[49,37,46,35],[49,38,46,36],[49,39,46,37],[50,8,47,6],[51,6,48,4],[51,7,48,5],[51,8,48,6],[51,15,48,13,"error"],[51,20,48,18],[51,22,48,20],[52,8,49,6,"console"],[52,15,49,13],[52,16,49,14,"error"],[52,21,49,19],[52,22,49,20],[52,43,49,41],[52,45,49,43,"error"],[52,50,49,48],[52,51,49,49],[53,6,50,4],[53,7,50,5],[53,16,50,14],[54,8,51,6,"setLoading"],[54,18,51,16],[54,19,51,17],[54,24,51,22],[54,25,51,23],[55,6,52,4],[56,4,53,2],[56,5,53,3],[57,4,55,2],[57,10,55,8,"login"],[57,15,55,13],[57,18,55,16],[57,24,55,16,"login"],[57,25,55,23,"email"],[57,30,55,36],[57,32,55,38,"password"],[57,40,55,54],[57,45,55,59],[58,6,56,4],[58,12,56,10,"API_URL"],[58,19,56,17],[58,22,56,20,"process"],[58,29,56,27],[58,30,56,28,"env"],[58,33,56,31],[58,34,56,32,"EXPO_PUBLIC_BACKEND_URL"],[58,57,56,55],[59,6,57,4],[59,12,57,10,"response"],[59,20,57,18],[59,23,57,21],[59,29,57,27,"fetch"],[59,34,57,32],[59,35,57,33],[59,38,57,36,"API_URL"],[59,45,57,43],[59,62,57,60],[59,64,57,62],[60,8,58,6,"method"],[60,14,58,12],[60,16,58,14],[60,22,58,20],[61,8,59,6,"headers"],[61,15,59,13],[61,17,59,15],[62,10,59,17],[62,24,59,31],[62,26,59,33],[63,8,59,52],[63,9,59,53],[64,8,60,6,"body"],[64,12,60,10],[64,14,60,12,"JSON"],[64,18,60,16],[64,19,60,17,"stringify"],[64,28,60,26],[64,29,60,27],[65,10,60,29,"email"],[65,15,60,34],[66,10,60,36,"password"],[67,8,60,45],[67,9,60,46],[68,6,61,4],[68,7,61,5],[68,8,61,6],[69,6,63,4],[69,10,63,8],[69,11,63,9,"response"],[69,19,63,17],[69,20,63,18,"ok"],[69,22,63,20],[69,24,63,22],[70,8,64,6],[70,14,64,12,"error"],[70,19,64,17],[70,22,64,20],[70,28,64,26,"response"],[70,36,64,34],[70,37,64,35,"json"],[70,41,64,39],[70,42,64,40],[70,43,64,41],[71,8,65,6],[71,14,65,12],[71,18,65,16,"Error"],[71,23,65,21],[71,24,65,22,"error"],[71,29,65,27],[71,30,65,28,"detail"],[71,36,65,34],[71,40,65,38],[71,54,65,52],[71,55,65,53],[72,6,66,4],[73,6,68,4],[73,12,68,10,"data"],[73,16,68,14],[73,19,68,17],[73,25,68,23,"response"],[73,33,68,31],[73,34,68,32,"json"],[73,38,68,36],[73,39,68,37],[73,40,68,38],[74,6,69,4,"setUser"],[74,13,69,11],[74,14,69,12,"data"],[74,18,69,16],[74,19,69,17,"user"],[74,23,69,21],[74,24,69,22],[75,6,70,4],[75,12,70,10,"AsyncStorage"],[75,24,70,22],[75,25,70,22,"default"],[75,32,70,22],[75,33,70,23,"setItem"],[75,40,70,30],[75,41,70,31],[75,48,70,38],[75,50,70,40,"JSON"],[75,54,70,44],[75,55,70,45,"stringify"],[75,64,70,54],[75,65,70,55,"data"],[75,69,70,59],[75,70,70,60,"user"],[75,74,70,64],[75,75,70,65],[75,76,70,66],[76,4,71,2],[76,5,71,3],[77,4,73,2],[77,10,73,8,"register"],[77,18,73,16],[77,21,73,19],[77,27,73,26,"userData"],[77,35,73,39],[77,39,73,44],[78,6,74,4],[78,12,74,10,"API_URL"],[78,19,74,17],[78,22,74,20,"process"],[78,29,74,27],[78,30,74,28,"env"],[78,33,74,31],[78,34,74,32,"EXPO_PUBLIC_BACKEND_URL"],[78,57,74,55],[79,6,75,4],[79,12,75,10,"response"],[79,20,75,18],[79,23,75,21],[79,29,75,27,"fetch"],[79,34,75,32],[79,35,75,33],[79,38,75,36,"API_URL"],[79,45,75,43],[79,65,75,63],[79,67,75,65],[80,8,76,6,"method"],[80,14,76,12],[80,16,76,14],[80,22,76,20],[81,8,77,6,"headers"],[81,15,77,13],[81,17,77,15],[82,10,77,17],[82,24,77,31],[82,26,77,33],[83,8,77,52],[83,9,77,53],[84,8,78,6,"body"],[84,12,78,10],[84,14,78,12,"JSON"],[84,18,78,16],[84,19,78,17,"stringify"],[84,28,78,26],[84,29,78,27,"userData"],[84,37,78,35],[85,6,79,4],[85,7,79,5],[85,8,79,6],[86,6,81,4],[86,10,81,8],[86,11,81,9,"response"],[86,19,81,17],[86,20,81,18,"ok"],[86,22,81,20],[86,24,81,22],[87,8,82,6],[87,14,82,12,"error"],[87,19,82,17],[87,22,82,20],[87,28,82,26,"response"],[87,36,82,34],[87,37,82,35,"json"],[87,41,82,39],[87,42,82,40],[87,43,82,41],[88,8,83,6],[88,14,83,12],[88,18,83,16,"Error"],[88,23,83,21],[88,24,83,22,"error"],[88,29,83,27],[88,30,83,28,"detail"],[88,36,83,34],[88,40,83,38],[88,61,83,59],[88,62,83,60],[89,6,84,4],[90,6,86,4],[90,12,86,10,"data"],[90,16,86,14],[90,19,86,17],[90,25,86,23,"response"],[90,33,86,31],[90,34,86,32,"json"],[90,38,86,36],[90,39,86,37],[90,40,86,38],[91,6,87,4,"setUser"],[91,13,87,11],[91,14,87,12,"data"],[91,18,87,16],[91,19,87,17],[92,6,88,4],[92,12,88,10,"AsyncStorage"],[92,24,88,22],[92,25,88,22,"default"],[92,32,88,22],[92,33,88,23,"setItem"],[92,40,88,30],[92,41,88,31],[92,48,88,38],[92,50,88,40,"JSON"],[92,54,88,44],[92,55,88,45,"stringify"],[92,64,88,54],[92,65,88,55,"data"],[92,69,88,59],[92,70,88,60],[92,71,88,61],[93,4,89,2],[93,5,89,3],[94,4,91,2],[94,10,91,8,"logout"],[94,16,91,14],[94,19,91,17],[94,25,91,17,"logout"],[94,26,91,17],[94,31,91,29],[95,6,92,4,"setUser"],[95,13,92,11],[95,14,92,12],[95,18,92,16],[95,19,92,17],[96,6,93,4],[96,12,93,10,"AsyncStorage"],[96,24,93,22],[96,25,93,22,"default"],[96,32,93,22],[96,33,93,23,"removeItem"],[96,43,93,33],[96,44,93,34],[96,51,93,41],[96,52,93,42],[97,4,94,2],[97,5,94,3],[98,4,96,2],[98,24,97,4],[98,28,97,4,"_reactJsxDevRuntime"],[98,47,97,4],[98,48,97,4,"jsxDEV"],[98,54,97,4],[98,56,97,5,"AuthContext"],[98,67,97,16],[98,68,97,17,"Provider"],[98,76,97,25],[99,6,97,26,"value"],[99,11,97,31],[99,13,97,33],[100,8,97,35,"user"],[100,12,97,39],[101,8,97,41,"loading"],[101,15,97,48],[102,8,97,50,"login"],[102,13,97,55],[103,8,97,57,"register"],[103,16,97,65],[104,8,97,67,"logout"],[105,6,97,74],[105,7,97,76],[106,6,97,76,"children"],[106,14,97,76],[106,16,98,7,"children"],[107,4,98,15],[108,6,98,15,"fileName"],[108,14,98,15],[108,16,98,15,"_jsxFileName"],[108,28,98,15],[109,6,98,15,"lineNumber"],[109,16,98,15],[110,6,98,15,"columnNumber"],[110,18,98,15],[111,4,98,15],[111,11,99,26],[111,12,99,27],[112,2,101,0],[112,3,101,1],[113,0,101,2],[113,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadUser","login","register","logout"],"mappings":"AAA;uBCyB;CDM;qEEE;YCI;GDE;mBEE;GFW;gBGE;GHgB;mBIE;GJgB;iBKE;GLG;CFO"},"hasCjsExports":false},"type":"js/module"}]}